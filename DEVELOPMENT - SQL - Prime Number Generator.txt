DECLARE @COUNT FLOAT
DECLARE @COUNT2 FLOAT
DECLARE @ID FLOAT
DECLARE @TEST FLOAT



SET @COUNT = 1000
SET @COUNT2 = @COUNT - 1
SET @ID = 1



CREATE TABLE #TEST (TEST FLOAT, ID INT)
CREATE TABLE #RESULTS (RESULT INT)

	WHILE @COUNT > 0
		BEGIN
			WHILE @COUNT2 > 0
				BEGIN

					SET @TEST = @COUNT / @COUNT2
					
					IF CHARINDEX('.',@TEST,0) = 0  INSERT INTO #TEST SELECT @COUNT2, CASE	
														WHEN (SELECT MAX(ID) FROM #TEST) IS NULL THEN 1 
															ELSE (SELECT MAX(ID) FROM #TEST) + 1																		END  
				
					SET @COUNT2 = @COUNT2 - 1

				END

			IF (SELECT MAX(ID) FROM #TEST) = 1 INSERT INTO #RESULTS SELECT @COUNT

			DELETE FROM #TEST
			SET @COUNT = @COUNT - 1
			SET @COUNT2 = @COUNT - 1
		
		END


SELECT * FROM #RESULTS
SELECT * FROM #TEST